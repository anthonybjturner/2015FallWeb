<!DOCTYPE html>
<html>

<head>

	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="Bootstrap example">
	<meta name="author" content="turnera1">
	<meta name="viewport" content="width=device-width; initial-scale=1.0">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	
	<title>Form example - jquery</title>

</head>

<body>

	<div class="container">
		
		<div class="alert alert-success alert-dismissable" style="display: none">
    			<button type="button" class="close"  aria-label="Close">
    				<!-- <button type="button" class="close" data-dismiss="alert" aria-label="Close"> -->
				  <span aria-hidden="true">&times;</span>
				</button>
				
				<h3><span></span></h3>
    		</div>

        <div class="page-header"> 
        	<h1> Runs </h1>
        	
        </div>
        
        	<form class="form-horizontal" style="margin-top: 100px;">
        		
        	
        	
			<div id="my-alert" class="alert alert-success alert-dismissable row" style="display: none">
        			<button type="button" class="close"  aria-label="Close">
        				<!-- <button type="button" class="close" data-dismiss="alert" aria-label="Close"> -->
					  <span aria-hidden="true">&times;</span>
					</button>
					
					<h3><span></span></h3>
        		</div>
        		
              <div class="form-group">
                <label for="txtLocation">Where</label>
                <input type="text" class="form-control" id="txtLocation" placeholder="Where">
              </div>
     
              
              <div class="form-group">
                <label for="txtLength">How far did you run? </label>
                <input type="number" class="form-control" id="txtLength" placeholder="Length (Meters)">
              </div>
              
                <div class="form-group">
                <label for="txtLocation">When did you run? </label>
                <input type="text" class="form-control" id="txtLocation" placeholder="Date">
              </div>
            
              <button type="submit" class="btn btn-default  row" id="submit">Submit</button>
        </form><br>
        
    	<div class="progress row">
				<div class="progress-bar progress-bar-striped active" role="progressbar" style="width: 0%">
					<span class="progress-bar-text">0%</span>
				</div>

			</div>


	</div>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<script type="text/javascript">
		(function($) {

			$(function(){
			    
			   
			    
			    $("#submit").on("click", function(e){
			        
			        var self = this;
			        $(this).prop("disabled", true).html("Working...");//Chained: working with the same object from which was returned and initially called (the button)
			       // $(this).css({display: "none"});
			       var per = 0;
			       
			       var interval = setInterval(function(){
			           per += 2;
			           $(".progress-bar").css("width", per + "%");
			           
			           $(".progress-bar span").text(per);
			           if( per >= 100){
			               
			               clearInterval(interval);
			               
                         if(!$("#txtAmount").val() ){
                             
                             $("input").css({backgroundColor: "#FFAAAA"});
			                  $(self).prop("disabled", false).html("Try again");//Chained: working with the same object from which was returned and initially called (the button)
			                  $("#my-alert").addClass("alert-danger").show().find("span").html("You must enter an amount");
			                  toastr.error("You must enter an amount.");
                         }else{
                             
                           //  $("form").prepend("<div class='alert alert-success'> Yay you did it </div> ")
                            $("#my-alert").addClass("alert-success").show().find("h3 span").html("Yay you did it with span");
                            toastr.success("Yay you did it.");
						  // console.error(self);

                             
                         }
                         
                        
			           }
			           
			       }, 50);
			       
			        return false;
			        
			    });//End onclick
			    
			    $(".close").on("click", function(e){
			    	
			    	$(this).closest(".alert").slideUp();
			    });

				$("input[type='number']").spinner();
				$("input[type='date']").datepicker();
			    
			});

		})(jQuery);
	</script>

</body>

</html>
